(function(){"use strict";var a=angular.module("imgurUploader",["imgurUploader.util"]);a.provider("imgur",function(){var a;this.$get=["$http","$log","$q","fileReaderUtil",function(b,c,d,e){a?c.debug("[imgur] Using Client ID: "+a):c.error("[imgur] No Client ID configured!");var f=function(d,e,f){return c.debug("[imgur] Uploading image (title: "+e+")"),b.post("https://api.imgur.com/3/image",{image:d,title:e,type:f},{headers:{Authorization:"Client-ID "+a,Accept:"application/json"}})},g=function(a,b){return e.readBase64Str(a).then(function(a){return f(a,b,"base64")})};return{upload:f,uploadBase64:g}}],this.setClientId=function(b){a=b}})})(),function(){"use strict";var a=angular.module("imgurUploader.util",[]),b=function(a){for(var b="",c=new Uint8Array(a),d=0;d<c.byteLength;++d)b+=String.fromCharCode(c[d]);return btoa(b)};a.service("fileReaderUtil",["$log","$q",function(a,c){this.readBase64Str=function(d){var e=c.defer(),f=new FileReader;return f.addEventListener("load",function(){var c=f.result;a.debug("[imgur] converting file to base-64...");var d=b(c);e.resolve(d)}),f.addEventListener("error",function(){e.reject()}),a.debug("[imgur] reading file..."),f.readAsArrayBuffer(d),e.promise}}])}();
//# sourceMappingURL=imgur-uploader.min.js.map